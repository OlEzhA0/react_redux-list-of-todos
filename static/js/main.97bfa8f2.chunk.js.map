{"version":3,"sources":["store/isReversed.ts","store/loaded.ts","store/loading.ts","store/todos.ts","store/sortType.ts","store/index.ts","components/LoadSpinner/LoadSpinner.tsx","helpers/getData.ts","helpers/config.ts","components/TodosList.tsx","components/DowloadButton.tsx","App.tsx","index.tsx"],"names":["reverseTodos","status","type","reverseReducer","state","action","console","log","loadedReducer","loadProcess","loadingReducer","todosReducer","todos","filter","todo","id","sortTypeReducer","sortType","isLoading","loading","getTodos","getLoaded","loaded","getSortType","getReverseStatus","isReverse","rootReducer","combineReducers","store","createStore","LoadSpinner","className","API_URL","getData","a","Promise","fetch","all","users","json","preparedTodos","preparedUsers","preparedData","map","user","find","userId","controlPanelConfig","name","ListTodos","dispatch","useDispatch","useSelector","sortedTodos","useMemo","sort","b","String","username","localeCompare","title","completed","reversedTodos","reverse","config","key","href","onClick","setSortType","cn","DowloadButton","loadData","App","then","data","finally","Root","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.97bfa8f2.chunk.js","sourcesContent":["import { AnyAction } from 'redux';\n\nconst REVERSE = 'REVERSE';\n\nexport const reverseTodos = (status: boolean) => ({ type: REVERSE, status });\n\nconst reverseReducer = (state = false, action: AnyAction) => {\n  console.log(state)\n  switch (action.type) {\n    case REVERSE:\n      return action.status;\n\n    default:\n      return state;\n  }\n};\n\nexport default reverseReducer;\n","import { AnyAction } from 'redux';\n\nconst SET_LOADED = 'SET_LOADED';\n\nexport const setLoaded = () => ({ type: SET_LOADED });\n\nconst loadedReducer = (state = false, action: AnyAction) => {\n  switch (action.type) {\n    case SET_LOADED:\n      return true;\n\n    default:\n      return state;\n  }\n}\n\nexport default loadedReducer;\n","import { AnyAction } from 'redux';\n\nconst LOAD_PROCESS = 'LOAD_PROCESS';\n\nexport const loadProcess = (status: boolean) => ({ type: LOAD_PROCESS, status });\n\nconst loadingReducer = (state = false, action: AnyAction) => {\n  switch (action.type) {\n    case LOAD_PROCESS:\n      return !state;\n\n    default:\n      return state;\n  }\n}\n\nexport default loadingReducer;\n","import { AnyAction } from 'redux';\n\nconst SET_TODOS = 'SET_TODOS';\nconst DELETE_TODO = 'DELETE_TODO';\n\nexport const setTodos = (todos: Todo[]) => ({ type: SET_TODOS, todos });\nexport const deleteTodo = (id: number) => ({ type: DELETE_TODO, id });\n\nconst todosReducer = (state = [] as Todo[], action: AnyAction) => {\n  switch (action.type) {\n    case SET_TODOS:\n      return action.todos;\n\n    case DELETE_TODO:\n      return state.filter(todo => todo.id !== action.id);\n\n    default:\n      return state;\n  }\n}\n\n\nexport default todosReducer;\n","import { AnyAction } from 'redux';\n\nconst SORT_TYPE = 'SORT_TYPE';\n\nexport const setSortType = (sortType: string) => ({ type: SORT_TYPE, sortType });\n\nconst sortTypeReducer = (state = 'id', action: AnyAction) => {\n  switch (action.type) {\n    case SORT_TYPE:\n      return action.sortType;\n\n    default:\n      return state;\n  }\n}\n\nexport default sortTypeReducer;\n","import { createStore, combineReducers } from 'redux';\nimport reverseReducer from './isReversed';\nimport loadedReducer from './loaded';\nimport loadingReducer from './loading';\nimport todosReducer from './todos';\nimport sortTypeReducer from './sortType';\n\nexport const isLoading = (state: RootState) => state.loading;\nexport const getTodos = (state: RootState) => state.todos;\nexport const getLoaded = (state: RootState) => state.loaded;\nexport const getSortType = (state: RootState) => state.sortType;\nexport const getReverseStatus = (state: RootState) => state.isReverse;\n\nconst rootReducer = combineReducers({\n  loading: loadingReducer,\n  loaded: loadedReducer,\n  sortType: sortTypeReducer,\n  isReverse: reverseReducer,\n  todos: todosReducer,\n});\n\nconst initialState: RootState = {\n  loading: false,\n  loaded: false,\n  sortType: 'id',\n  isReverse: false,\n  todos: [],\n};\n\nconst store = createStore(\n  rootReducer, initialState\n);\n\nexport default store;\n","import React from 'react';\nimport './LoadSpinner.scss';\n\nexport const LoadSpinner = () => {\n  return (\n    <div className=\"Spinner__Wrap\">\n      <div className=\"lds-ellipsis\">\n        <div />\n        <div />\n        <div />\n        <div />\n      </div>\n    </div>\n  );\n};\n","const API_URL = 'https://mate-academy.github.io/react_dynamic-list-of-todos/api/';\nconst USERS_PATH = '/users.json';\nconst TODOS_PATH = '/todos.json';\n\nexport const getData = async () => {\n  const [todos, users] = await Promise.all([\n    await fetch(`${API_URL}${TODOS_PATH}`),\n    await fetch(`${API_URL}${USERS_PATH}`),\n  ]);\n\n  const preparedTodos: Todo[] = await todos.json();\n  const preparedUsers: User[] = await users.json();\n\n  const preparedData = preparedTodos.map(todo => ({\n    ...todo,\n    user: preparedUsers.find(user => todo.userId === user.id) || '',\n  }));\n\n  return preparedData;\n};\n","export const controlPanelConfig = [\n  {\n    name: 'ID',\n    sortType: 'id',\n  },\n  {\n    name: 'Sort by name',\n    sortType: 'username',\n  },\n  {\n    name: 'Sort by title',\n    sortType: 'title',\n  },\n  {\n    name: 'Sort by status',\n    sortType: 'completed',\n  },\n  {\n    name: 'del',\n    sortType: '',\n  },\n];\n","import React, { useMemo } from 'react';\nimport cn from 'classnames';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  getTodos, getSortType, getReverseStatus,\n} from '../store';\nimport { deleteTodo } from './../store/todos';\nimport { reverseTodos } from '../store/isReversed';\nimport { setSortType } from '../store/sortType';\nimport { controlPanelConfig } from '../helpers/config';\n\nexport const ListTodos: React.FC = () => {\n  const dispatch = useDispatch();\n  const todos: Todo[] = useSelector(getTodos);\n  const sortType = useSelector(getSortType);\n  const isReverse = useSelector(getReverseStatus);\n\n  const changeSortType = (type: string) => {\n    if (!type) {\n      return;\n    }\n\n    if (type === sortType) {\n      dispatch(reverseTodos(!isReverse));\n    } else {\n      dispatch(setSortType(type));\n      dispatch(reverseTodos(false));\n    }\n  };\n\n  const sortedTodos = useMemo(\n    () => [...todos].sort((a: Todo, b: Todo): number => {\n      switch (sortType) {\n        case 'id':\n          return (a.id - b.id);\n\n        case 'username':\n          return (String(a.user.username).localeCompare(String(b.user.username)));\n\n        case 'title':\n          return (a.title.localeCompare(b.title));\n\n        case 'completed':\n          return (+a.completed - +b.completed);\n\n        default:\n          return 0;\n      }\n    }),\n    [sortType, todos, isReverse],\n  );\n\n  const reversedTodos = isReverse ? sortedTodos.reverse() : sortedTodos;\n\n  return (\n    <>\n      <ul className=\"list\">\n        {controlPanelConfig.map(config => (\n          <li className=\"item\" key={config.name}>\n            <a\n              href=\"#\"\n              className=\"link\"\n              onClick={() => changeSortType(config.sortType)}\n            >\n              {config.name}\n            </a>\n          </li>\n        ))}\n      </ul>\n      {reversedTodos.map(todo => (\n        <div\n          key={todo.id}\n          className={cn({\n            'todo completed': todo.completed,\n            todo: !todo.completed,\n          })}\n        >\n          <div className=\"id-todo\">\n            <p className=\"id__text\">\n              {todo.id}\n            </p>\n          </div>\n          <div className=\"name\">\n            <p className=\"name__text\">\n              {todo.user?.username}\n            </p>\n          </div>\n          <div className=\"title\">\n            <p className=\"title__text\">\n              {todo.title}\n            </p>\n          </div>\n          <div className=\"status\">\n            <p className=\"status__text\">\n              {todo.completed ? 'Completed' : 'Active'}\n            </p>\n          </div>\n          <button\n            type=\"button\"\n            onClick={() => dispatch(deleteTodo(todo.id))}\n            className=\"delete\"\n          >\n            Delete\n          </button>\n        </div>\n      ))}\n    </>\n  );\n};\n","import React from 'react';\n\ninterface Props {\n  loadData: () => void;\n}\n\nexport const DowloadButton: React.FC<Props> = ({ loadData }) => {\n  return (\n    <button\n      type=\"button\"\n      className=\"get-info\"\n      onClick={loadData}\n    >\n      Loading\n    </button>\n  );\n};\n","import React from 'react';\nimport './App.scss';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { LoadSpinner } from './components/LoadSpinner';\nimport {\n  isLoading, getLoaded\n} from './store';\nimport { setTodos } from './store/todos';\nimport { setLoaded } from './store/loaded';\nimport { getData } from './helpers/getData';\nimport { loadProcess } from './store/loading';\nimport { ListTodos } from './components/TodosList';\nimport { DowloadButton } from './components/DowloadButton';\n\nconst App = () => {\n  const loading = useSelector(isLoading);\n  const loaded = useSelector(getLoaded);\n  const dispatch = useDispatch();\n\n  const loadData = () => {\n    dispatch(loadProcess(true));\n\n    getData()\n      .then(data => {\n        dispatch(setTodos(data as Todo[]));\n        dispatch(setLoaded());\n      })\n      .finally(() => dispatch(loadProcess(true)));\n  };\n\n  return (\n    <>\n      <div className=\"App\">\n        <h1 className=\"App__title\">Redux list of todos</h1>\n        {!loaded && <DowloadButton loadData={loadData} />}\n        {loading && <LoadSpinner />}\n        {loaded && <ListTodos />}\n      </div>\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport store from './store';\nimport App from './App';\n\nconst Root = () => (\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}